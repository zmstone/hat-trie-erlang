{erl_opts, [{i, "src"},
            warnings_as_errors,
            debug_info,
            {w, all},
            warn_export_all]}.

{deps, []}.

{plugins, [
  {pc, {git, "https://github.com/blt/port_compiler.git", {tag, "v1.10.2"}}}
]}.

{provider_hooks, [
    {pre, [
        {compile, {pc, compile}},
        {clean,   {pc, clean}}
    ]}
]}.

{port_specs, [
    {"priv/hattrie.so", ["c_src/*.c"]}
]}.

{port_env, [
    {".*", "ERL_LDFLAGS", " -L$ERL_EI_LIBDIR -lei"},
    {"(linux|darwin)", "CFLAGS", "$CFLAGS -O3 -std=gnu99 -finline-functions -Wall -Wmissing-prototypes"},
    {"win32", "CFLAGS", "$CFLAGS /LD /O2 /DNDEBUG"}
]}.

